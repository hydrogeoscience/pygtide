# PyGTide tests
import pygtide

# create a PyGTide object
pt = pygtide.pygtide()

# calculate the gravitational tides
# BUG: CURRENT COMBINATION CRASHING THE CODE (1 / 23)
#pt.predict(-33.33, 151.33, 589.33, start, 2, 249, fileprd=0)
pt.predict(-20.82071, -70.15288, 830.0, '2017-01-01', 6, 600, statazimut=90,
           tidalcompo=8)

# retrieve the results as Pandas data frame
data = pt.results()

print(data)

output = """                         UTC  Signal [nstr]  Tide [nstr]  Pole tide [nstr]  LOD tide [nstr]
0  2017-01-01 00:00:00+00:00     -15.445205   -15.445205               0.0              0.0
1  2017-01-01 00:10:00+00:00     -15.997761   -15.997761               0.0              0.0
2  2017-01-01 00:20:00+00:00     -16.404846   -16.404846               0.0              0.0
3  2017-01-01 00:30:00+00:00     -16.666121   -16.666121               0.0              0.0
4  2017-01-01 00:40:00+00:00     -16.782300   -16.782300               0.0              0.0
5  2017-01-01 00:50:00+00:00     -16.755130   -16.755130               0.0              0.0
6  2017-01-01 01:00:00+00:00     -16.587375   -16.587375               0.0              0.0
7  2017-01-01 01:10:00+00:00     -16.282788   -16.282788               0.0              0.0
8  2017-01-01 01:20:00+00:00     -15.846078   -15.846078               0.0              0.0
9  2017-01-01 01:30:00+00:00     -15.282866   -15.282866               0.0              0.0
10 2017-01-01 01:40:00+00:00     -14.599639   -14.599639               0.0              0.0
11 2017-01-01 01:50:00+00:00     -13.803695   -13.803695               0.0              0.0
12 2017-01-01 02:00:00+00:00     -12.903087   -12.903087               0.0              0.0
13 2017-01-01 02:10:00+00:00     -11.906556   -11.906556               0.0              0.0
14 2017-01-01 02:20:00+00:00     -10.823461   -10.823461               0.0              0.0
15 2017-01-01 02:30:00+00:00      -9.663708    -9.663708               0.0              0.0
16 2017-01-01 02:40:00+00:00      -8.437673    -8.437673               0.0              0.0
17 2017-01-01 02:50:00+00:00      -7.156121    -7.156121               0.0              0.0
18 2017-01-01 03:00:00+00:00      -5.830125    -5.830125               0.0              0.0
19 2017-01-01 03:10:00+00:00      -4.470980    -4.470980               0.0              0.0
20 2017-01-01 03:20:00+00:00      -3.090122    -3.090122               0.0              0.0
21 2017-01-01 03:30:00+00:00      -1.699038    -1.699038               0.0              0.0
22 2017-01-01 03:40:00+00:00      -0.309185    -0.309185               0.0              0.0
23 2017-01-01 03:50:00+00:00       1.068098     1.068098               0.0              0.0
24 2017-01-01 04:00:00+00:00       2.421675     2.421675               0.0              0.0
25 2017-01-01 04:10:00+00:00       3.740687     3.740687               0.0              0.0
26 2017-01-01 04:20:00+00:00       5.014640     5.014640               0.0              0.0
27 2017-01-01 04:30:00+00:00       6.233475     6.233475               0.0              0.0
28 2017-01-01 04:40:00+00:00       7.387642     7.387642               0.0              0.0
29 2017-01-01 04:50:00+00:00       8.468170     8.468170               0.0              0.0
30 2017-01-01 05:00:00+00:00       9.466727     9.466727               0.0              0.0
31 2017-01-01 05:10:00+00:00      10.375683    10.375683               0.0              0.0
32 2017-01-01 05:20:00+00:00      11.188161    11.188161               0.0              0.0
33 2017-01-01 05:30:00+00:00      11.898085    11.898085               0.0              0.0
34 2017-01-01 05:40:00+00:00      12.500221    12.500221               0.0              0.0
35 2017-01-01 05:50:00+00:00      12.990215    12.990215               0.0              0.0
36 2017-01-01 06:00:00+00:00      13.364621    13.364621               0.0              0.0
37 2017-01-01 06:10:00+00:00      13.620919    13.620919               0.0              0.0
38 2017-01-01 06:20:00+00:00      13.757539    13.757539               0.0              0.0
39 2017-01-01 06:30:00+00:00      13.773860    13.773860               0.0              0.0
40 2017-01-01 06:40:00+00:00      13.670221    13.670221               0.0              0.0
41 2017-01-01 06:50:00+00:00      13.447906    13.447906               0.0              0.0"""

pt.predict(-20.82071, -70.15288, 830.0, '2020-01-01', 6, 600, statazimut=90,
           tidalcompo=8)

assert str(data) == output
